/* Cores Base (Paleta Púrpura/Azul) */
$primary-color: #673ab7; // Deep Purple 500
$primary-dark-color: #512da8; // Deep Purple 700
$primary-light-color: #d1c4e9; // Deep Purple 100
$accent-color: #ff4081; // Pink A200
$warn-color: #f44336; // Red 500
$text-color: #333;
$light-text-color: #666;
$border-color: #e0e0e0;
$background-color: #f5f5f5; // Grey 100

/* Import para as novas funções de cor do Sass */
@use "sass:color";

/* SOBRESCREVENDO AS VARIÁVEIS CSS DO ANGULAR MATERIAL PARA O TEMA GLOBAL */
// Estas regras devem ser globais (no seu styles.scss), mas as mantemos aqui se não estiverem surtindo efeito.
// Se já estiverem no styles.scss, você pode remover este bloco.
:root {
  --mdc-theme-primary: #{$primary-color};
  --mdc-theme-on-primary: #ffffff;
  --mdc-theme-secondary: #{$accent-color};
  --mdc-theme-on-secondary: #ffffff;
  --mdc-theme-error: #{$warn-color};
  --mdc-theme-on-error: #ffffff;

  --mat-form-field-label-text-color: #e0e2ec;
  --mat-form-field-focus-label-text-color: #e0e2ec;
  --mat-form-field-floating-label-text-color: #e0e2ec;

  --mat-form-field-underline-color: #{$border-color};
  --mat-form-field-focus-underline-color: #{$primary-dark-color};
  --mat-form-field-filled-indicator-color: transparent;

  --mat-form-field-error-text-color: #{$warn-color};
  --mat-form-field-disabled-label-text-color: #9e9e9e;
  --mat-form-field-disabled-underline-color: #bdbdbd;

  --mat-button-toggle-text-color: #{$primary-color};
  --mat-button-toggle-checked-text-color: #ffffff;
  --mat-button-toggle-checked-background-color: #{$primary-color};
  --mat-raised-button-text-color: #ffffff;
  --mat-raised-button-background-color: #{$primary-color};
}

/* Container principal do formulário */
.tag-form-container {
  padding: 20px;
  max-width: 500px;
  margin: 20px auto;
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  mat-card-title { // Usando o seletor mat-card-title diretamente
    color: $primary-dark-color;
    text-align: center;
    margin-bottom: 20px;
    font-size: 2em;
    font-weight: 600;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 15px; // Espaçamento entre os campos Material
  }

  .full-width {
    width: 100%;
  }

  /* Estilos para o fundo dos campos de formulário Material */
  .mat-form-field-appearance-fill .mat-form-field-flex {
    background-color: #e0e2ec !important; /* Cor de fundo para campos preenchidos */
    border-radius: 4px 4px 0 0 !important;
  }

  .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper {
    background-color: #e0e2ec !important; /* fallback para versões mais antigas ou outros componentes */
  }

  .mat-mdc-input-element.mdc-text-field__input {
    color: $text-color !important; /* Cor do texto digitado */
  }

  /* Estilos para o autofill do navegador */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0px 1000px #e0e2ec inset !important;
    -webkit-text-fill-color: #{$text-color} !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* Cor da label flutuante em foco/com valor */
  .mat-mdc-form-field.mat-focused .mat-mdc-floating-label,
  .mat-mdc-form-field-has-value .mat-mdc-floating-label {
    color: $primary-dark-color !important; // Ou uma cor que contraste bem
  }

  .form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;

    button {
      height: 48px;
      min-width: 120px;
      font-weight: 500;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;

      &[type="submit"] {
        background-color: $primary-color !important;
        color: white !important;
        box-shadow: 0 3px 5px rgba(0,0,0,0.2);

        &:hover {
          background-color: color.adjust($primary-color, $lightness: -10%) !important; // Corrigido
          box-shadow: 0 5px 8px rgba(0,0,0,0.3);
        }
      }

      &[type="button"] { // Estilo para o botão de cancelar
        color: $warn-color !important;
        border-color: $warn-color !important;
        background-color: transparent !important;

        &:hover {
          background-color: color.adjust($warn-color, $lightness: 40%) !important; // Corrigido
        }
      }
    }
  }
}

/* --- ESTILOS DOS SNACKBARS (Padronização) --- */
.success-snackbar {
  background-color: #4CAF50;
  color: white;
  border-radius: 4px;
  box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);
}

.error-snackbar {
  background-color: $warn-color;
  color: white;
  border-radius: 4px;
  box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);
}

// Estilo para o container do confirm-snackbar-component (que é programático)
.confirm-snackbar {
  /* No momento, o MatSnackBarContainer usa uma cor de fundo padrão.
     Se precisar de um fundo, defina aqui. Por exemplo:
     background-color: #f0f0f0;
     color: #333;
  */
}


/* tag-form.component.scss */
input[type="color"] {
  height: 40px;
  width: 60px;
  padding: 0;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  
  &::-webkit-color-swatch {
    border: none;
    border-radius: 4px;
  }
  
  &::-webkit-color-swatch-wrapper {
    padding: 0;
  }
}

// Estilo para o conteúdo dentro do confirm-snackbar-component (que é renderizado dentro do MatSnackBarContainer)
.confirm-snackbar-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px;
  min-width: 280px;
  box-sizing: border-box;

  p {
    margin: 0 0 15px 0;
    font-size: 1em;
    color: #333;
    text-align: center;
  }

  .confirm-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    width: 100%;

    button {
      flex: 1;
      font-weight: bold;
      height: 40px;
      line-height: 40px;

      // Estilo para o botão "Sim" (roxo)
      .mat-mdc-button.mat-mdc-button-base.confirm-button {
        background-color: $primary-color !important;
        color: white !important;
        &:hover {
          background-color: color.adjust($primary-color, $lightness: -10%) !important; // Corrigido
        }
      }

      // Estilo para o botão "Não" (vermelho)
      .mat-mdc-button.mat-mdc-button-base.cancel-button {
        background-color: $warn-color !important;
        color: white !important;
        &:hover {
          background-color: color.adjust($warn-color, $lightness: -10%) !important; // Corrigido
        }
      }
    }
  }
}