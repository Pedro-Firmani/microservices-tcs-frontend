<div class="container">
  <h2>{{ isEditMode ? 'Editar Atividade' : 'Nova Atividade' }}</h2>

  <form [formGroup]="atividadeForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Título</mat-label>
      <input matInput formControlName="titulo" required>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Descrição</mat-label>
      <textarea matInput formControlName="descricao" rows="5" required></textarea>
    </mat-form-field>

    <!-- CAMPO DE DATA CORRIGIDO, AGORA USANDO MAT-DATEPICKER -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Data de Entrega (Opcional)</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="dataEntrega">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    
    <div class="actions">
        <button type="button" mat-stroked-button [routerLink]="['/atividades']">Cancelar</button>
        <button type="submit" mat-raised-button color="primary" [disabled]="atividadeForm.invalid">
            {{ isEditMode ? 'Salvar Alterações' : 'Criar Atividade' }}
        </button>
    </div>
  </form>
</div>